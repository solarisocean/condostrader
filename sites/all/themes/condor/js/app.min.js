!function(e,t){t.behaviors.searchButton={attach:function(t,a){e("#search-button").on("click",function(t){t.preventDefault(),e("#searchmenu-form").toggleClass("search-visible")})}},t.behaviors.mainMenu={attach:function(t,a){e(".menu-button").click(function(t){t.preventDefault(),e(this).hasClass("menu-open")?(e("#main-menu-nav-tree").hide("drop",{direction:"right"},"easeInQuad"),e(this).removeClass("menu-open")):(e(this).addClass("menu-open"),e("#main-menu-nav-tree").show("drop",{direction:"right"},"easeInQuad"))}),e(".main-nav-tree").first().find("a").each(function(){e(this).parent().find("ul").length>0&&e(this).on("click",function(t){t.preventDefault();var a=t.target,i=e(a).next(),n=e(i).parents().length,r=e(".main-nav-tree").first().find("ul").filter(function(){return e(this).parents().length>=n&&this!==i.get(0)?!0:void 0});e(r).slideUp(300,"easeInQuad"),i.slideToggle(300,"easeInQuad")})})}},t.behaviors.mainSliders={attach:function(t,a){e(".newly-listed-slider .view-content, .recent-blog-post .view-content").addClass("swiper-wrapper"),e(".newly-listed").prepend('<div class="newly-listed-slider-button-next swiper-button-next"></div><div class="newly-listed-slider-button-prev swiper-button-prev"></div>'),e(".recent-post-front").prepend('<div class="recent-post-front-slider-button-next swiper-button-next"></div><div class="recent-post-front-slider-button-prev swiper-button-prev"></div>');new Swiper(".newly-listed-slider",{slidesPerView:4,slidesPerColumn:2,paginationClickable:!0,spaceBetween:25,nextButton:".newly-listed-slider-button-next",prevButton:".newly-listed-slider-button-prev"}),new Swiper(".recent-blog-post",{slidesPerView:4,slidesPerColumn:1,paginationClickable:!0,spaceBetween:25,nextButton:".recent-post-front-slider-button-next",prevButton:".recent-post-front-slider-button-prev"})}},t.behaviors.scrollBar={attach:function(t,a){e(".view-lowest-price-block, .view-highest-price-block, .view-most-viewed-block").mCustomScrollbar({setHeight:"404px",theme:"inset-2"}),e(".page-search-results .view-search-results-ctrader .view-content").mCustomScrollbar({setHeight:"690px",theme:"inset-2"})}},t.behaviors.facetFix={attach:function(a,i){var n=function(t){t.each(function(){e(this).attr("checked")&&e(this).parent().addClass("active-region-facet")}),t.parent().find("a").on("click",function(a){a.preventDefault(),e(this).closest("ul").removeClass("facetapi-disabled"),e(this).parent().removeClass("facetapi-inactive"),e(this).parent().find("input:checkbox").attr("disabled",!1),t.parent().removeClass("active-region-facet"),e(this).parent().addClass("active-region-facet").find("input:checkbox").trigger("click")}),t.on("change",function(){t.not(this).prop("checked",!1)})};n(e(".facetapi-facet-field-br--torcond input:checkbox")),n(e(".facetapi-facet-field-s-r--torcond input:checkbox")),e(".facetapi-facet-field-locker--torcond a, .facetapi-facet-field-prkg-inc--torcond a, .facetapi-facet-field-pets--torcond a").on("click",function(t){var a=e(this).parent().find("input");t.preventDefault();var i=e(this);e(this).closest(".facetapi-facetapi-checkbox-links").removeClass("facetapi-disabled"),a.attr("disabled",!1).parent(),a.attr("checked")?(i.removeClass("checked-facet"),a.trigger("click")):(i.addClass("checked-facet"),a.trigger("click"))}),e(".facetapi-facetapi-select-dropdowns select").chosen({disable_search:!0}),e(".view-search-results-ctrader .view-filters select").chosen({disable_search:!0,placeholder_text_single:t.t("Sort by: ")})}},t.behaviors.viewsAuto={attach:function(t,a){var i=e("div.mCSB_container"),n=".view-search-results-ctrader .item-list .pager";e("#search-results-ctrader-load-more",t).click(function(){var a=e(".pager .pager-next a").attr("href");e.ajax({url:a,context:t,beforeSend:function(){e("#search-results-ctrader-load-more").addClass("load")},success:function(){e("#search-results-ctrader-load-more").removeClass("load")}}).done(function(t){e(t).find(".views-row").appendTo(i).hide().fadeIn("slow"),e(n).replaceWith(e(t).find(n)),void 0!==e(t).find(n).find(".pager-next a").attr("href")?e("#search-results-ctrader-load-more").appendTo(i):e("#search-results-ctrader-load-more").remove()})})}},t.behaviors.mapHeight={attach:function(t,a){var i=e(".main").height();0!==i&&e("#mapid").height(i)}}}(jQuery,Drupal);