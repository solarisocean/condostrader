!function(e,t){t.behaviors.searchButton={attach:function(t,n){e("#search-button").on("click",function(t){t.preventDefault(),e("#searchmenu-form").toggleClass("search-visible")})}},t.behaviors.mainMenu={attach:function(t,n){e("body").once(function(){e(".menu-button").click(function(t){t.preventDefault(),e(this).hasClass("menu-open")?(e("#main-menu-nav-tree").hide("drop",{direction:"right"},"easeInQuad"),e(this).removeClass("menu-open")):(e(this).addClass("menu-open"),e("#main-menu-nav-tree").show("drop",{direction:"right"},"easeInQuad"))}),e(".main-nav-tree").first().find("a").each(function(){e(this).parent().find("ul").length>0&&e(this).on("click",function(t){t.preventDefault();var n=t.target,i=e(n).next(),a=e(i).parents().length,s=e(".main-nav-tree").first().find("ul").filter(function(){return e(this).parents().length>=a&&this!==i.get(0)?!0:void 0});e(s).slideUp(300,"easeInQuad"),i.slideToggle(300,"easeInQuad")})})})}},t.behaviors.mainSliders={attach:function(t,n){e(".newly-listed-slider .view-content, .recent-blog-post .view-content").addClass("swiper-wrapper"),e(".newly-listed").prepend('<div class="newly-listed-slider-button-next swiper-button-next"></div><div class="newly-listed-slider-button-prev swiper-button-prev"></div>'),e(".recent-post-front").prepend('<div class="recent-post-front-slider-button-next swiper-button-next"></div><div class="recent-post-front-slider-button-prev swiper-button-prev"></div>');new Swiper(".newly-listed-slider",{slidesPerView:4,slidesPerColumn:2,paginationClickable:!0,spaceBetween:25,nextButton:".newly-listed-slider-button-next",prevButton:".newly-listed-slider-button-prev"}),new Swiper(".recent-blog-post",{slidesPerView:4,slidesPerColumn:1,paginationClickable:!0,spaceBetween:25,nextButton:".recent-post-front-slider-button-next",prevButton:".recent-post-front-slider-button-prev"})}},t.behaviors.scrollBar={attach:function(t,n){e(".view-lowest-price-block, .view-highest-price-block, .view-most-viewed-block").mCustomScrollbar({setHeight:"404px",theme:"inset-2"}),e(".page-search-results .view-search-results-ctrader .view-content").mCustomScrollbar({setHeight:"675px",theme:"inset-2"})}},t.behaviors.facetFix={attach:function(t,n){var i=function(t){t.each(function(){e(this).attr("checked")&&e(this).parent().addClass("active-region-facet")}),t.parent().find("a").on("click",function(n){n.preventDefault(),e(this).closest("ul").removeClass("facetapi-disabled"),e(this).parent().removeClass("facetapi-inactive"),e(this).parent().find("input:checkbox").attr("disabled",!1),t.parent().removeClass("active-region-facet"),e(this).parent().addClass("active-region-facet").find("input:checkbox").trigger("click")}),t.on("change",function(){t.not(this).prop("checked",!1)})};i(e(".facetapi-facet-field-br--torcond input:checkbox")),i(e(".facetapi-facet-field-s-r--torcond input:checkbox"));for(var a=[".facetapi-facet-field-locker--torcond input:checkbox",".facetapi-facet-field-prkg-inc--torcond input:checkbox",".facetapi-facet-field-pets--torcond input:checkbox"],s=0;s<a.length;s++)e(a[s]).attr("checked")&&e(a[s]).parent().find("a").addClass("checked-facet");e(".facetapi-facet-field-locker--torcond a, .facetapi-facet-field-prkg-inc--torcond a, .facetapi-facet-field-pets--torcond a").on("click",function(t){var n=e(this).parent().find("input");t.preventDefault();var i=e(this);e(this).closest(".facetapi-facetapi-checkbox-links").removeClass("facetapi-disabled"),n.attr("disabled",!1).parent(),n.attr("checked")?(i.removeClass("checked-facet"),n.trigger("click")):(i.addClass("checked-facet"),n.trigger("click"))}),e(".facetapi-facetapi-select-dropdowns select, .result-filter-block select").chosen({disable_search:!0})}},t.behaviors.viewsAuto={attach:function(t,n){var i=function(n){var i=e(n).find(".mCSB_container"),a=n+" .item-list .pager",s=e(n).find(".search-results-load-more"),o=n+" .view-header .end";s.on("click",function(){var r=e(n+" .pager-next a").attr("href");e.ajax({url:r,context:t,beforeSend:function(){s.addClass("load")},success:function(){s.removeClass("load")}}).done(function(t){e(t).find(n+" .views-row").appendTo(i).hide().fadeIn("slow"),e(a).replaceWith(e(t).find(a)),e({Counter:e(o+" b").text()}).animate({Counter:e(t).find(o).text()},{duration:1500,easing:"swing",step:function(){e(o+" b").text(Math.ceil(this.Counter))}}),void 0!==e(t).find(a).find(".pager-next a").attr("href")?s.appendTo(i):s.remove()})})};i(".listing-result-page"),i(".building-result-page")}},t.behaviors.exposedAuto={attach:function(t,n){e(".views-widget-sort-sort_bef_combine .form-select").change(function(){1!=e(this).val().length&&e(this).closest(".views-exposed-form").find(".form-submit").trigger("click")})}},t.behaviors.tabsTotal={attach:function(t,n){e("body").once(function(){var t=function(t,n){for(var i=0;i<t.length;i++)e(n).find("a"+t[i]+"-tab span").text(e(t[i]+" .total-quantity").text()),e(t[i]).not(t[0]).hide();e(n+" "+t[0]+"-tab").addClass("active"),e(n+" a").on("click",function(i){i.preventDefault(),e(n+" a").removeClass("active"),e(this).addClass("active");for(var a=e(this)[0].id,s=0;s<t.length;s++)e(t[s]).not("."+a).hide(),e("."+a).fadeIn(500)})},n=[".listing-result-page",".building-result-page"];t(n,"#result-page-tabs")})}},t.behaviors.nearbyListedPage={attach:function(t,n){e("body").once(function(){e(".nearby-listed-slider .view-content").addClass("swiper-wrapper"),e(".pane-nearby-listings").prepend('<div class="nearby-listed-slider-button-next swiper-button-next"></div><div class="nearby-listed-slider-button-prev swiper-button-prev"></div>');new Swiper(".nearby-listed-slider",{slidesPerView:5,slidesPerColumn:1,paginationClickable:!0,spaceBetween:25,nextButton:".nearby-listed-slider-button-next",prevButton:".nearby-listed-slider-button-prev"});e(".condo-page-gallery .pane-content, .condo-page-pagination .pane-content").addClass("swiper-container"),e(".condo-page-gallery .field-name-field-toronto-gallery, .condo-page-pagination .field-name-field-toronto-gallery").addClass("swiper-wrapper"),e(".condo-page-gallery .field-name-field-toronto-gallery img, .condo-page-pagination .field-name-field-toronto-gallery img").addClass("swiper-slide");var t=new Swiper(".condo-page-gallery .pane-content",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",onSlideChangeEnd:function(t){var i=t.activeIndex;e(n.slides).removeClass("is-selected"),e(n.slides).eq(i).addClass("is-selected"),n.slideTo(i,300,!1)}}),n=new Swiper(".condo-page-pagination .pane-content",{spaceBetween:30,freeMode:!1,centeredSlides:!1,slidesPerView:3.5,touchRatio:.2,direction:"vertical",onClick:function(n,i){var a=n.clickedIndex;n.activeIndex=a,n.updateClasses(),e(n.slides).removeClass("is-selected"),e(n.clickedSlide).addClass("is-selected"),t.slideTo(a,300,!1)}})})}}}(jQuery,Drupal);