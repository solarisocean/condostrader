!function(e,t){t.behaviors.globalFunc={attach:function(e,t){var i=t.globalFunc={};i.detectMob=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}}},t.behaviors.searchButton={attach:function(t,i){e("#search-button").on("click",function(t){t.preventDefault(),e("#views-exposed-form-search-results-ctrader-page-3").toggleClass("search-visible")})}},t.behaviors.mainMenu={attach:function(t,i){e("body").once(function(){e(".menu-button").click(function(t){t.preventDefault(),e(this).hasClass("menu-open")?(e("#main-menu-nav-tree").hide("drop",{direction:"right"},"easeInQuad"),e(this).removeClass("menu-open")):(e(this).addClass("menu-open"),e("#main-menu-nav-tree").show("drop",{direction:"right"},"easeInQuad"))}),e(".main-nav-tree").first().find("a").each(function(){e(this).parent().find("ul").length>0&&e(this).on("click",function(t){t.preventDefault();var i=t.target,n=e(i).next(),a=e(n).parents().length,s=e(".main-nav-tree").first().find("ul").filter(function(){if(e(this).parents().length>=a&&this!==n.get(0))return!0});e(s).slideUp(300,"easeInQuad"),n.slideToggle(300,"easeInQuad")})})})}},t.behaviors.mainSliders={attach:function(t,i){e(".newly-listed-slider .view-content, .recent-blog-post .view-content").addClass("swiper-wrapper"),e("body").once(function(){if(e(".newly-listed-slider .view-content .views-row").length>=5){e(".newly-listed").prepend('<div class="newly-listed-slider-button-next swiper-button-next"></div><div class="newly-listed-slider-button-prev swiper-button-prev"></div>');new Swiper(".newly-listed-slider",{slidesPerView:4,slidesPerColumn:2,paginationClickable:!0,spaceBetween:25,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:3}},nextButton:".newly-listed-slider-button-next",prevButton:".newly-listed-slider-button-prev"})}if(e(".recent-blog-post .view-content .views-row").length>=5){e(".recent-post-front").prepend('<div class="recent-post-front-slider-button-next swiper-button-next"></div><div class="recent-post-front-slider-button-prev swiper-button-prev"></div>');new Swiper(".recent-blog-post",{slidesPerView:4,slidesPerColumn:1,paginationClickable:!0,spaceBetween:25,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:3}},nextButton:".recent-post-front-slider-button-next",prevButton:".recent-post-front-slider-button-prev"})}})}},t.behaviors.scrollBar={attach:function(t,i){i.globalFunc.detectMob()||e(".view-lowest-price-block .view-content, .view-highest-price-block .view-content, .view-most-viewed-block .view-content").mCustomScrollbar({setHeight:"404px",theme:"inset-2",callbacks:{onTotalScroll:function(){var i=e(this).parent().find(".item-list .pager-next a").attr("href"),n="."+e(this).parent().prop("classList")[4],a=n+" .view-content .views-row",s=n+" .item-list .pager",o=n+" .view-content",r=e(this);e.ajax({url:i,context:t,beforeSend:function(){e(o).append('<div class="auto-scroll-loader" style="margin-bottom: 50px"></div>')},success:function(){e(".auto-scroll-loader").remove()}}).done(function(t){e(t).find(a).appendTo(n+" .mCSB_container").hide().fadeIn("slow"),e(s).replaceWith(e(t).find(s)),setTimeout(function(){r.mCustomScrollbar("scrollTo","-=350")},10)})}}}),e(window).width()>568&&e(".page-search-results .view-search-results-ctrader .view-content").mCustomScrollbar({setHeight:"675px",theme:"inset-2"}),e(window).width()<569&&e(".facet-map-block").after(e(".page-search-results #mapid").closest(".panels-flexible-column").css({width:"100%","margin-bottom":"35px"}))}},t.behaviors.facetFix={attach:function(t,i){var n=function(t){t.each(function(){e(this).attr("checked")&&e(this).parent().addClass("active-region-facet")}),t.parent().find("a").on("click",function(i){i.preventDefault(),e(this).closest("ul").removeClass("facetapi-disabled"),e(this).parent().removeClass("facetapi-inactive"),e(this).parent().find("input:checkbox").attr("disabled",!1),t.parent().removeClass("active-region-facet"),e(this).parent().addClass("active-region-facet").find("input:checkbox").trigger("click")}),t.on("change",function(){t.not(this).prop("checked",!1)})};n(e(".facetapi-facet-field-br--torcond input:checkbox")),n(e(".facetapi-facet-field-s-r--torcond input:checkbox"));for(var a=[".facetapi-facet-field-locker--torcond input:checkbox",".facetapi-facet-field-prkg-inc--torcond input:checkbox",".facetapi-facet-field-pets--torcond input:checkbox",".facetapi-facet-field-patio-ter--torcond input:checkbox",".facetapi-facet-field-ens-lndry--torcond input:checkbox"],s=0;s<a.length;s++)e(a[s]).attr("checked")&&e(a[s]).parent().find("a").addClass("checked-facet");if(e(".single-checkbox-facet").once().on("click",function(t){var i=e(this).parent().find("input"),n=e("#-ctrader-saf-search-button-form input[name='"+e(this).closest("ul.facetapi-facetapi-checkbox-links").attr("class").split(" ")[1].split("-")[3]+"']");1==n.val()?n.val(0):n.val(1),t.preventDefault(),t.stopPropagation();var a=e(this);e(this).closest(".facetapi-facetapi-checkbox-links").removeClass("facetapi-disabled"),i.attr("disabled",!1).parent(),i.attr("checked")?a.removeClass("checked-facet"):a.addClass("checked-facet"),i.trigger("click")}),e(".facetapi-facet-field-style--torcond select, .views-widget-sort-sort_bef_combine .form-select").chosen({disable_search:!0}),e(".facet-search-block")){var o="#-ctrader-saf-search-button-form";e(".pane-ctrader-saf-neighbourhoods-hs select").each(function(){e(this).change(function(){switch("label_1"!=e(this).val()&&"label_2"!=e(this).val()?e.ajax({type:"POST",url:"/js-singup-map",data:{locationSelect:e(this).val()}}):"label_1"!=e(this).val()&&"label_2"!=e(this).val()||e.ajax({type:"POST",url:"/js-singup-map",data:{locationSelect:e(this).prev().val()}}),e(this).attr("name").charAt(e(this).attr("name").length-2)){case"0":e(o+' input[name="region"]').val(e(this).val()),e(o+' input[name="region_1"]').val(""),e(o+' input[name="region_2"]').val("");break;case"1":e(o+' input[name="region_1"]').val(e(this).val()),e(o+' input[name="region_2"]').val("");break;case"2":e(o+' input[name="region_2"]').val(e(this).val())}switch(e(this).val()){case"label_0":e(o+' input[name="region"]').val(""),e(o+' input[name="region_1"]').val(""),e(o+' input[name="region_2"]').val("");break;case"label_1":e(o+' input[name="region_1"]').val(""),e(o+' input[name="region_2"]').val("");break;case"label_2":e(o+' input[name="region_2"]').val("")}})}),e(".facetapi-facet-field-s-r--torcond .facetapi-facet a").on("click",function(){e('.form-type-radio input[value="'+e(this).text().split(" ").reverse()[0]+'"]').trigger("click"),e(o+' input[name="sale_rent"]').val(e(this).parent().find("a.facetapi-checkbox").attr("href"))}),e(".facetapi-facet-field-s-r--torcond .facetapi-facet a").not(".facetapi-checkbox").each(function(){if(e(this).text().split(" ").reverse()[0]==e(".form-type-radio input:checked").val())e(".facetapi-facet-field-s-r--torcond .facetapi-facet.active-region-facet").removeClass("active-region-facet"),e(this).trigger("click");else if(""!==e(o+' input[name="sale_rent"]').val()&&!e("body").hasClass("front"))switch(e(".facetapi-facet-field-s-r--torcond .facetapi-facet.active-region-facet").removeClass("active-region-facet"),e(o+' input[name="sale_rent"]').val().split(":")[1]){case"Sale":e(".facetapi-facet-field-s-r--torcond .facetapi-facet a").not(".facetapi-checkbox").first().closest("div").addClass("active-region-facet");break;case"Lease":e(".facetapi-facet-field-s-r--torcond .facetapi-facet a").not(".facetapi-checkbox").last().closest("div").addClass("active-region-facet")}}),e(".field_style__torcond.form-select").change(function(){e(o+' input[name="type"]').val(e(this).val())}),e(".facetapi-facet-field-br--torcond a").on("click",function(){e(o+' input[name="beds"]').val(e(this).text())})}e(".find-condo-tab").on("click",function(e){e.preventDefault()})}},t.behaviors.viewsAuto={attach:function(t,i){var n=function(i){var n=e(i).find(".mCSB_container"),a=i+" .item-list .pager",s=e(i).find(".search-results-load-more"),o=i+" .view-header .end";s.on("click",function(){var r=e(i+" .pager-next a").attr("href");e.ajax({url:r,context:t,beforeSend:function(){s.addClass("load")},success:function(){s.removeClass("load")}}).done(function(t){e(t).find(i+" .views-row").appendTo(n).hide().fadeIn("slow"),e(a).replaceWith(e(t).find(a)),e({Counter:e(o+" b").text()}).animate({Counter:e(t).find(o).text()},{duration:1500,easing:"swing",step:function(){e(o+" b").text(Math.ceil(this.Counter))}}),void 0!==e(t).find(a).find(".pager-next a").attr("href")?s.appendTo(n):s.remove()})})};n(".listing-result-page"),n(".building-result-page")}},t.behaviors.exposedAuto={attach:function(t,i){e(".views-widget-sort-sort_bef_combine .form-select").change(function(){1!==e(this).val().length&&e(this).closest(".views-exposed-form").find(".form-submit").trigger("click")})}},t.behaviors.tabsTotal={attach:function(t,i){e("body").once(function(){var t=function(t,i){for(var n=0;n<t.length;n++)e(t[n]+" .total-quantity").text()?e(i).find("a"+t[n]+"-tab span").text(e(t[n]+" .total-quantity").text()):e(i).find("a"+t[n]+"-tab span").text(0),e(t[n]).not(t[0]).hide();e(i+" "+t[0]+"-tab").addClass("active"),e(i+" a").on("click",function(n){n.preventDefault(),e(i+" a").removeClass("active"),e(this).addClass("active");for(var a=e(this)[0].id,s=0;s<t.length;s++)e(t[s]).not("."+a).hide(),e("."+a).fadeIn(500)})},i=[".listing-result-page",".building-result-page"];t(i,"#result-page-tabs")})}},t.behaviors.nearbyListedPage={attach:function(t,i){e("body").once(function(){if(e(".nearby-listed-slider .view-content").addClass("swiper-wrapper"),e(".nearby-listed-slider .view-content .views-row").length>=6){e(".pane-nearby-listings").prepend('<div class="nearby-listed-slider-button-next swiper-button-next"></div><div class="nearby-listed-slider-button-prev swiper-button-prev"></div>');new Swiper(".nearby-listed-slider",{slidesPerView:5,slidesPerColumn:1,paginationClickable:!0,spaceBetween:25,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:3}},nextButton:".nearby-listed-slider-button-next",prevButton:".nearby-listed-slider-button-prev"})}e(".condo-page-gallery .pane-content, .condo-page-pagination .pane-content").addClass("swiper-container"),e(".condo-page-gallery .field-name-field-toronto-gallery, .condo-page-pagination .field-name-field-toronto-gallery").addClass("swiper-wrapper"),e(".condo-page-gallery .field-name-field-toronto-gallery img").wrap('<div class="swiper-slide"></div>'),e(".condo-page-pagination .field-name-field-toronto-gallery img").addClass("swiper-slide"),e(".condo-page-pagination .pane-content").append('<div class="swiper-scrollbar"></div>'),e(".condo-page-gallery .pane-content").append('<div class="gallery-slider-button-next swiper-button-next"></div><div class="gallery-slider-button-prev swiper-button-prev"></div>');var t,n;t=new Swiper(".condo-page-gallery .pane-content",{nextButton:".gallery-slider-button-next",prevButton:".gallery-slider-button-prev",onSlideChangeEnd:function(t){var i=t.activeIndex;e(n.slides).removeClass("is-selected"),e(n.slides).eq(i).addClass("is-selected"),n.slideTo(i,300,!1)}}),n=new Swiper(".condo-page-pagination .pane-content",{scrollbar:".swiper-scrollbar",scrollbarHide:!1,scrollbarDraggable:!0,spaceBetween:30,freeMode:!1,centeredSlides:!1,slidesPerView:3.5,touchRatio:.2,direction:"vertical",breakpoints:{320:{direction:"horizontal",slidesPerView:2},568:{direction:"horizontal",slidesPerView:3},768:{direction:"horizontal",slidesPerView:5},1024:{direction:"horizontal",slidesPerView:5}},onClick:function(i,n){var a=i.clickedIndex;i.activeIndex=a,i.updateClasses(),e(i.slides).removeClass("is-selected"),e(i.clickedSlide).addClass("is-selected"),t.slideTo(a,300,!1)}}),e("#edit-field-time-to-contact-und").chosen({disable_search:!0}),i.globalFunc.detectMob()||e(".page-drealty-listing .condo-right-side").height(e(".page-drealty-listing .condo-center").height()),e(".condo-buttons a.buy-now").on("click",function(t){t.preventDefault(),e(".field-name-field-buy-now-button a")[0].click()}),e(".condo-buttons a.book-viewing").on("click",function(t){t.preventDefault(),e(".form-item-field-e-mail-und-0-email input").addClass("alert-form")}),e(".form-item-field-e-mail-und-0-email input").on("click",function(){e(this).hasClass("alert-form")&&e(this).removeClass("alert-form")})})}},t.behaviors.signUpPage={attach:function(t,i){e("#edit-field-looking-to-und").chosen({disable_search:!0})}},t.behaviors.condoPage={attach:function(t,i){e("body").once(function(){e(".pane-drealty-listing a.flag").text("Add this listing to my favourites")})}},t.behaviors.wishlistSlider={attach:function(i,n){e("body").once(function(){e(".wishlist-slider .view-content").addClass("swiper-wrapper");var i;e(".wishlist-slider .view-content .views-row").length>=5&&(e(".wishlist-slider").prepend('<div class="wishlist-slider-button-next swiper-button-next"></div><div class="wishlist-slider-button-prev swiper-button-prev"></div>'),e(".wishlist-slider .view-content .views-row").length>5?i=new Swiper(".wishlist-slider",{slidesPerView:4,slidesPerColumn:2,paginationClickable:!0,spaceBetween:25,nextButton:".wishlist-slider-button-next",prevButton:".wishlist-slider-button-prev"}):e(".wishlist-slider .view-content .views-row").length<=5&&(i=new Swiper(".wishlist-slider",{slidesPerView:4,paginationClickable:!0,spaceBetween:25,nextButton:".wishlist-slider-button-next",prevButton:".wishlist-slider-button-prev"}))),e("body").hasClass("page-user-wishlist")&&e(".flag a").on("click",function(){e(this).closest(".views-row").remove(),slidesList=e(".wishlist-slider .view-content .views-row"),0==slidesList.length&&(e(".view-flaged-condos-").children().remove(),e(".view-flaged-condos-").append('<div class="view-empty"><p style="font-size: 1.375rem;">'+t.t("<b>YOUR WISH LIST IS CURRENTLY EMPTY,</b> ADD LISTING TO YOUR WISH LIST TO SEE THEM HERE.")+"</p></div>")),void 0!==i&&i.update()})})}}}(jQuery,Drupal);