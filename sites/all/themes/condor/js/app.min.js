!function(a,b){b.behaviors.globalFunc={attach:function(a,b){var c=b.globalFunc={};c.detectMob=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}}},b.behaviors.searchButton={attach:function(b,c){a("#search-button").on("click",function(b){b.preventDefault(),a("#views-exposed-form-search-results-ctrader-page-3").toggleClass("search-visible")})}},b.behaviors.mainMenu={attach:function(b,c){a("body").once(function(){a(".menu-button").click(function(b){b.preventDefault(),a(this).hasClass("menu-open")?(a("#main-menu-nav-tree").hide("drop",{direction:"right"},"easeInQuad"),a(this).removeClass("menu-open")):(a(this).addClass("menu-open"),a("#main-menu-nav-tree").show("drop",{direction:"right"},"easeInQuad"))}),a(".main-nav-tree").first().find("a").each(function(){a(this).parent().find("ul").length>0&&a(this).on("click",function(b){b.preventDefault();var c=b.target,d=a(c).next(),e=a(d).parents().length,f=a(".main-nav-tree").first().find("ul").filter(function(){if(a(this).parents().length>=e&&this!==d.get(0))return!0});a(f).slideUp(300,"easeInQuad"),d.slideToggle(300,"easeInQuad")})})})}},b.behaviors.mainSliders={attach:function(b,c){a(".newly-listed-slider .view-content, .recent-blog-post .view-content").addClass("swiper-wrapper"),a("body").once(function(){if(a(".newly-listed-slider .view-content .views-row").length>=5){a(".newly-listed").prepend('<div class="newly-listed-slider-button-next swiper-button-next"></div><div class="newly-listed-slider-button-prev swiper-button-prev"></div>');new Swiper(".newly-listed-slider",{slidesPerView:4,slidesPerColumn:2,paginationClickable:!0,spaceBetween:25,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:3}},nextButton:".newly-listed-slider-button-next",prevButton:".newly-listed-slider-button-prev"})}if(a(".recent-blog-post .view-content .views-row").length>=5){a(".recent-post-front").prepend('<div class="recent-post-front-slider-button-next swiper-button-next"></div><div class="recent-post-front-slider-button-prev swiper-button-prev"></div>');new Swiper(".recent-blog-post",{slidesPerView:4,slidesPerColumn:1,paginationClickable:!0,spaceBetween:25,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:3}},nextButton:".recent-post-front-slider-button-next",prevButton:".recent-post-front-slider-button-prev"})}})}},b.behaviors.scrollBar={attach:function(b,c){c.globalFunc.detectMob()||a(".view-lowest-price-block .view-content, .view-highest-price-block .view-content, .view-most-viewed-block .view-content").mCustomScrollbar({setHeight:"404px",theme:"inset-2",callbacks:{onTotalScroll:function(){var c=a(this).parent().find(".item-list .pager-next a").attr("href"),d="."+a(this).parent().prop("classList")[4],e=d+" .view-content .views-row",f=d+" .item-list .pager",g=d+" .view-content",h=a(this);a.ajax({url:c,context:b,beforeSend:function(){a(g).append('<div class="auto-scroll-loader" style="margin-bottom: 50px"></div>')},success:function(){a(".auto-scroll-loader").remove()}}).done(function(b){a(b).find(e).appendTo(d+" .mCSB_container").hide().fadeIn("slow"),a(f).replaceWith(a(b).find(f)),setTimeout(function(){h.mCustomScrollbar("scrollTo","-=350")},10)})}}}),a(window).width()>568&&a(".page-search-results .view-search-results-ctrader .view-content").mCustomScrollbar({setHeight:"675px",theme:"inset-2"}),a(window).width()<569&&a(".facet-map-block").after(a(".page-search-results #mapid").closest(".panels-flexible-column").css({width:"100%","margin-bottom":"35px"}))}},b.behaviors.facetFix={attach:function(b,c){var d=function(b){b.each(function(){a(this).attr("checked")&&a(this).parent().addClass("active-region-facet")}),b.parent().find("a").on("click",function(c){c.preventDefault(),a(this).closest("ul").removeClass("facetapi-disabled"),a(this).parent().removeClass("facetapi-inactive"),a(this).parent().find("input:checkbox").attr("disabled",!1),b.parent().removeClass("active-region-facet"),a(this).parent().addClass("active-region-facet").find("input:checkbox").trigger("click")}),b.on("change",function(){b.not(this).prop("checked",!1)})};d(a(".facetapi-facet-field-br--torcond input:checkbox")),d(a(".facetapi-facet-field-s-r--torcond input:checkbox"));for(var e=[".facetapi-facet-field-locker--torcond input:checkbox",".facetapi-facet-field-prkg-inc--torcond input:checkbox",".facetapi-facet-field-pets--torcond input:checkbox",".facetapi-facet-field-patio-ter--torcond input:checkbox",".facetapi-facet-field-ens-lndry--torcond input:checkbox"],f=0;f<e.length;f++)a(e[f]).attr("checked")&&a(e[f]).parent().find("a").addClass("checked-facet");if(a(".single-checkbox-facet").once().on("click",function(b){var c=a(this).parent().find("input"),d=a("#-ctrader-saf-search-button-form input[name='"+a(this).closest("ul.facetapi-facetapi-checkbox-links").attr("class").split(" ")[1].split("-")[3]+"']");1==d.val()?d.val(0):d.val(1),b.preventDefault(),b.stopPropagation();var e=a(this);a(this).closest(".facetapi-facetapi-checkbox-links").removeClass("facetapi-disabled"),c.attr("disabled",!1).parent(),c.attr("checked")?e.removeClass("checked-facet"):e.addClass("checked-facet"),c.trigger("click")}),a(".facetapi-facet-field-style--torcond select, .views-widget-sort-sort_bef_combine .form-select").chosen({disable_search:!0}),a(".facet-search-block")){var g="#-ctrader-saf-search-button-form";a(".pane-ctrader-saf-neighbourhoods-hs select").each(function(){a(this).change(function(){switch("label_1"!=a(this).val()&&"label_2"!=a(this).val()?a.ajax({type:"POST",url:"/js-singup-map",data:{locationSelect:a(this).val()}}):"label_1"!=a(this).val()&&"label_2"!=a(this).val()||a.ajax({type:"POST",url:"/js-singup-map",data:{locationSelect:a(this).prev().val()}}),a(this).attr("name").charAt(a(this).attr("name").length-2)){case"0":a(g+' input[name="region"]').val(a(this).val()),a(g+' input[name="region_1"]').val(""),a(g+' input[name="region_2"]').val("");break;case"1":a(g+' input[name="region_1"]').val(a(this).val()),a(g+' input[name="region_2"]').val("");break;case"2":a(g+' input[name="region_2"]').val(a(this).val())}switch(a(this).val()){case"label_0":a(g+' input[name="region"]').val(""),a(g+' input[name="region_1"]').val(""),a(g+' input[name="region_2"]').val("");break;case"label_1":a(g+' input[name="region_1"]').val(""),a(g+' input[name="region_2"]').val("");break;case"label_2":a(g+' input[name="region_2"]').val("")}})}),a(".facetapi-facet-field-s-r--torcond .facetapi-facet a").on("click",function(){a('.form-type-radio input[value="'+a(this).text().split(" ").reverse()[0]+'"]').trigger("click"),a(g+' input[name="sale_rent"]').val(a(this).parent().find("a.facetapi-checkbox").attr("href"))}),a(".facetapi-facet-field-s-r--torcond .facetapi-facet a").not(".facetapi-checkbox").each(function(){if(a(this).text().split(" ").reverse()[0]==a(".form-type-radio input:checked").val())a(".facetapi-facet-field-s-r--torcond .facetapi-facet.active-region-facet").removeClass("active-region-facet"),a(this).trigger("click");else if(""!==a(g+' input[name="sale_rent"]').val()&&!a("body").hasClass("front"))switch(a(".facetapi-facet-field-s-r--torcond .facetapi-facet.active-region-facet").removeClass("active-region-facet"),a(g+' input[name="sale_rent"]').val().split(":")[1]){case"Sale":a(".facetapi-facet-field-s-r--torcond .facetapi-facet a").not(".facetapi-checkbox").first().closest("div").addClass("active-region-facet");break;case"Lease":a(".facetapi-facet-field-s-r--torcond .facetapi-facet a").not(".facetapi-checkbox").last().closest("div").addClass("active-region-facet")}}),a(".field_style__torcond.form-select").change(function(){a(g+' input[name="type"]').val(a(this).val())}),a(".facetapi-facet-field-br--torcond a").on("click",function(){a(g+' input[name="beds"]').val(a(this).text())})}a(".find-condo-tab").on("click",function(a){a.preventDefault()})}},b.behaviors.viewsAuto={attach:function(b,c){var d=function(c){var d=a(c).find(".mCSB_container"),e=c+" .item-list .pager",f=a(c).find(".search-results-load-more"),g=c+" .view-header .end";f.on("click",function(){var h=a(c+" .pager-next a").attr("href");a.ajax({url:h,context:b,beforeSend:function(){f.addClass("load")},success:function(){f.removeClass("load")}}).done(function(b){a(b).find(c+" .views-row").appendTo(d).hide().fadeIn("slow"),a(e).replaceWith(a(b).find(e)),a({Counter:a(g+" b").text()}).animate({Counter:a(b).find(g).text()},{duration:1500,easing:"swing",step:function(){a(g+" b").text(Math.ceil(this.Counter))}}),void 0!==a(b).find(e).find(".pager-next a").attr("href")?f.appendTo(d):f.remove()})})};d(".listing-result-page"),d(".building-result-page")}},b.behaviors.exposedAuto={attach:function(b,c){a(".views-widget-sort-sort_bef_combine .form-select").change(function(){1!==a(this).val().length&&a(this).closest(".views-exposed-form").find(".form-submit").trigger("click")})}},b.behaviors.tabsTotal={attach:function(b,c){a("body").once(function(){var b=function(b,c){for(var d=0;d<b.length;d++)a(b[d]+" .total-quantity").text()?a(c).find("a"+b[d]+"-tab span").text(a(b[d]+" .total-quantity").text()):a(c).find("a"+b[d]+"-tab span").text(0),a(b[d]).not(b[0]).hide();a(c+" "+b[0]+"-tab").addClass("active"),a(c+" a").on("click",function(d){d.preventDefault(),a(c+" a").removeClass("active"),a(this).addClass("active");for(var e=a(this)[0].id,f=0;f<b.length;f++)a(b[f]).not("."+e).hide(),a("."+e).fadeIn(500)})},c=[".listing-result-page",".building-result-page"];b(c,"#result-page-tabs")})}},b.behaviors.nearbyListedPage={attach:function(b,c){a("body").once(function(){if(a(".nearby-listed-slider .view-content").addClass("swiper-wrapper"),a(".nearby-listed-slider .view-content .views-row").length>=6){a(".pane-nearby-listings").prepend('<div class="nearby-listed-slider-button-next swiper-button-next"></div><div class="nearby-listed-slider-button-prev swiper-button-prev"></div>');new Swiper(".nearby-listed-slider",{slidesPerView:5,slidesPerColumn:1,paginationClickable:!0,spaceBetween:25,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:3}},nextButton:".nearby-listed-slider-button-next",prevButton:".nearby-listed-slider-button-prev"})}var b,d,e,f;a(".build-top").length>0?(e="top-container",f="thumb-container",a(".build-top").wrap('<div class="swiper-container '+e+'"></div>'),a(".build-top img").wrap("<div class='swiper-slide'></div>"),a(".build-thumb").wrap('<div class="swiper-container '+f+'"></div>'),a(".build-thumb img").addClass("swiper-slide")):(e="condo-page-gallery .pane-content",f="condo-page-pagination .pane-content"),a(".condo-page-gallery .pane-content, .condo-page-pagination .pane-content").addClass("swiper-container"),a(".condo-page-gallery .field-name-field-toronto-gallery, .condo-page-pagination .field-name-field-toronto-gallery").addClass("swiper-wrapper"),a(".condo-page-gallery .field-name-field-toronto-gallery img").wrap('<div class="swiper-slide"></div>').addClass("swiper-lazy").append('<div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>'),a(".condo-page-pagination .field-name-field-toronto-gallery img").addClass("swiper-slide"),a("."+f).append('<div class="swiper-scrollbar"></div>'),a("."+e).append('<div class="gallery-slider-button-next swiper-button-next"></div><div class="gallery-slider-button-prev swiper-button-prev"></div>'),a(".condo-page-gallery .field-name-field-toronto-gallery img").each(function(){var b=a(this);b.attr("data-src",b.attr("src")).removeAttr("src")}),b=new Swiper("."+e,{nextButton:".gallery-slider-button-next",prevButton:".gallery-slider-button-prev",onSlideChangeEnd:function(b){var c=b.activeIndex;a(d.slides).removeClass("is-selected"),a(d.slides).eq(c).addClass("is-selected"),d.slideTo(c,300,!1)},preloadImages:!1,lazyLoading:!0}),d=new Swiper("."+f,{scrollbar:".swiper-scrollbar",scrollbarHide:!1,scrollbarDraggable:!0,spaceBetween:30,freeMode:!1,centeredSlides:!1,slidesPerView:3.5,touchRatio:.2,direction:"vertical",breakpoints:{320:{direction:"horizontal",slidesPerView:2},568:{direction:"horizontal",slidesPerView:3},768:{direction:"horizontal",slidesPerView:5},1024:{direction:"horizontal",slidesPerView:5}},onClick:function(c,d){var e=c.clickedIndex;c.activeIndex=e,c.updateClasses(),a(c.slides).removeClass("is-selected"),a(c.clickedSlide).addClass("is-selected"),b.slideTo(e,300,!1)}}),a("#edit-field-time-to-contact-und").chosen({disable_search:!0}),c.globalFunc.detectMob()||a(".page-drealty-listing .condo-right-side").height(a(".page-drealty-listing .condo-center").height()),a(".condo-buttons a.buy-now").on("click",function(b){b.preventDefault(),a(".field-name-field-buy-now-button a")[0].click()}),a(".condo-buttons a.book-viewing").on("click",function(b){b.preventDefault(),a(".form-item-field-e-mail-und-0-email input").addClass("alert-form")}),a(".form-item-field-e-mail-und-0-email input").on("click",function(){a(this).hasClass("alert-form")&&a(this).removeClass("alert-form")})})}},b.behaviors.signUpPage={attach:function(b,c){a("#edit-field-looking-to-und").chosen({disable_search:!0})}},b.behaviors.condoPage={attach:function(b,c){a("body").once(function(){a(".pane-drealty-listing a.flag").text("Add this listing to my favourites")})}},b.behaviors.wishlistSlider={attach:function(c,d){a("body").once(function(){a(".wishlist-slider .view-content").addClass("swiper-wrapper");var c;a(".wishlist-slider .view-content .views-row").length>=5&&(a(".wishlist-slider").prepend('<div class="wishlist-slider-button-next swiper-button-next"></div><div class="wishlist-slider-button-prev swiper-button-prev"></div>'),a(".wishlist-slider .view-content .views-row").length>5?c=new Swiper(".wishlist-slider",{slidesPerView:4,slidesPerColumn:2,paginationClickable:!0,spaceBetween:25,nextButton:".wishlist-slider-button-next",prevButton:".wishlist-slider-button-prev"}):a(".wishlist-slider .view-content .views-row").length<=5&&(c=new Swiper(".wishlist-slider",{slidesPerView:4,paginationClickable:!0,spaceBetween:25,nextButton:".wishlist-slider-button-next",prevButton:".wishlist-slider-button-prev"}))),a("body").hasClass("page-user-wishlist")&&a(".flag a").on("click",function(){a(this).closest(".views-row").remove(),slidesList=a(".wishlist-slider .view-content .views-row"),0==slidesList.length&&(a(".view-flaged-condos-").children().remove(),a(".view-flaged-condos-").append('<div class="view-empty"><p style="font-size: 1.375rem;">'+b.t("<b>YOUR WISH LIST IS CURRENTLY EMPTY,</b> ADD LISTING TO YOUR WISH LIST TO SEE THEM HERE.")+"</p></div>")),void 0!==c&&c.update()})})}}}(jQuery,Drupal);